<!DOCTYPE html>
  <html>
    <head>
      <meta charset="utf-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <title>Guessing Game</title>
      <link rel="stylesheet" href="/bower_components/normalize-css/normalize.css" />
      <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css" />
      <link rel="stylesheet" href="/css/main.css" />
    </head>
    <body>
      <div class="container">
        <div class="row">
          <div class="col-xs-12 col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4">
            <section>
              <h1 class="text-center">Guessing Game</h1>
              <p id="message">
                I'm thinking of a number between 1 and 100.   Let's see if you can figure it out!
              </p>
              <form id="game-form" class="form">
                <div class="form-group">
                  <input id="guess" class="form-control" type="number" placeholder="Your Guess" autofocus required>
                </div>
                <div class="form-group text-center">
                  <button id="submit-button" class="btn btn-primary" type="submit">Submit</button>
                </div>
              </form>
              <div class="text-center">
                <button id="hint-button" class="btn btn-default" type="button">Get a Hint</button>
                <button id="play-again"class="btn btn-default" type="button">Play Again</button>
              </div>
              <p id="guess-counter">
                Guesses Remaining: <span id="counter">5</span>
              </p>
              <div id="hint-message" class="alert alert-info hidden" role="alert">
              </div>
            </section>
          </div>
        </div>
      </div>
    </body>
    <script src="/bower_components/jquery/dist/jquery.min.js"></script>
    <script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/js/game.js"></script>
    <script>
      var game = new GuessingGame();

      $("#game-form").submit(function(event) {
        event.preventDefault();
        game.setGuess($("#guess").val());
        $("#guess").val("");

        if (game.canPlay()) {
          if (game.isDuplicate()) {
            $("#message").text("You already guessed that number. Try again!");
            $("#counter").text(game.guessesLeft());
          } else if (game.checkGuess()) {
            game.addToGuesses();
            $("#message").text("WINNER!!!");
            $("#guess").attr("placeholder", "").prop("disabled", true);
            $("#submit-button, #hint-button").prop("disabled", true);
            $("#guess-counter, #hint-message").addClass("hidden");
            $("body").addClass("winner");
          } else {
            game.addToGuesses();
            if (game.isWarm()) {
              $("#message").text("Good guess! You're getting warm. Try something a little " + game.lowerOrHigher() + ".");
              $("#counter").text(game.guessesLeft());
            } else {
              $("#message").text("Not even close! Try something " + game.lowerOrHigher() + ".");
              $("#counter").text(game.guessesLeft());
            }
          }
        } else {
          game.addToGuesses();
          $("#message").text("Sorry, you lost! The number I was thinking of was " + game.getWinningNumber() + ".");
          $("#guess").attr("placeholder", "").prop("disabled", true);
          $("#submit-button").prop("disabled", true);
          $("#hint-button").prop("disabled", true);
          $("#guess-counter").addClass("hidden");
          $("#hint-message").addClass("hidden");
          $("body").addClass("loser");
        }
      });

      $("#hint-button").click(function() {
        $("#hint-message").text("Choose wisely: " + game.getHint());
        $("#hint-message").removeClass("hidden");
      });

      $("#play-again").click(function() {
        game.reset();

      });
    </script>
</html>
